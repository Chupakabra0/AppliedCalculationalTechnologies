![banner](https://wp-assets.futurism.com/2016/04/math.jpg)

## Лабораторная работа № 2

### Постановка задачи

Выполнить задание по вариантам с соответствующими графиками.

### Вариант №10

Имеем последовательную схему, которая содержит резистор з сопротивлением $R = 24 \Omega$, катушку индуктивности с индуктивностью $L = 2 \text{H}$, конденсатор с ёмкостью $C = 5 \cdot 10^{-3} \text{F}$ и генератор, который вырабатывает напряжение по закону $E(t) = 12\sin(10t)$. Найдите заряд $Q$ в момент времени $t$  и постройте график зависимости заряда $Q$ от времени $t$, если начальный заряд $Q_{0} = 10^{-3} \text{F}$, а начальный ток $I_{0} = 0 \text{A}$.

### Выполнение работы

#### Решение при помощи Octave

Из курса по физике известная следующая формула, которая интерпретирует закон Кирхгофа к нужной нам задаче:

$$
L \frac{dI}{dt} + RI + \frac{Q}{C} = E(t)
$$

Известно, что $I = \dfrac{dQ}{dt}$. Тогда получаем дифференциальное уравнение второго порядка:

$$
L \frac{d^{2}Q}{dt^{2}} + R \frac{dQ}{dt} + \frac{Q}{C} = E(t)
$$

Теперь необходимо определить начальные условия. Эта процедура достаточно тривиальная, так как в условии задачи указаны значения начального заряда $Q_{0}$, то есть заряда в момент времени $t = 0$, и начальной силы тока $I_{0}$, то есть тока в момент времени $t = 0$. Поэтому начальные условия будут такими:

$$
\begin{gather}
    Q(0) = 0.001 & I(0) = \frac{dQ(0)}{dt} = 0
\end{gather}
$$

Воспользуемся пакетом символьной математики `symbolic` и функциями `dsolve` (для решения задачи Коши для дифференциального уравнения второго порядка) и `ezplot` (для построения графика полученного решения).

Код для выполнения задания на Octave:

```matlab
pkg load symbolic

syms x(t);

Q = dsolve(2 * diff(x, t, 2) + 24 * diff(x, t) + 0.005^(-1) * x == 12 * sin(10 * t), [x(0) == 0.001 diff(x, t)(0) == 0])

figure;
ezplot(Q, [0 1 0 1]);
grid on;
title("Q(t)");
legend("Q(t)");
```

При запуске программы получаем такой график:

![|center](https://i.imgur.com/OFdb0Xl.png)

#### Решение при помощи Xcos

Для использования визуального конструктора воспользуемся бесплатным аналогом Simulink от MATLAB в лице [Xcos](https://www.scilab.org/software/xcos) от Scilab. Для того, чтобы создать диаграмму Xcos необходимо скачать Scilab с официального сайта проекта:

![|center](https://i.imgur.com/ayWPQju.png)

![|center](https://i.imgur.com/R0eikTQ.png)

После этого откроем установленное приложение. В верхней панели найдём пункт *Инструменты > Визуальное моделирование Xcos*:

![|center](https://i.imgur.com/W7sZdx5.png)

Будет открыто окно проекта, в котором можно размещать блоки, таким образом проводя математические вычисления.

Так как из Octave мы знаем решение нашей задачи, то резонно воспользоваться им прямо здесь вместо того, чтобы заново делать расчёты. Для этого нам понадобятся такие блоки, как: `TIME_f`, `CLOCK_c`, `CSCOPE` и `scifunc_block_m`.

`TIME_f` обеспечивает обновление переменной времени $t$ от $0$ до $+\infty$, `CLOCK_c` активирует программу, `CSCOPE` отображает график функции, которая приходит на вход, а `scifunc_block_m` проводит подсчёт значения пользовательской функции $y_{1}(u_{1})$. Если положить $y_{1}(u_{1})$ как $Q(t)$, то получим такую программу:

![|center](https://i.imgur.com/Vu7ND2T.png)

Для того, чтобы график функции совпадал с тем, что мы получили в Octave, достаточно изменить параметры некоторых блоков. Достаточно изменить значения `Ymin` и `Ymax` для блока `CSCOPE`:

![|center](https://i.imgur.com/AvGUhJc.png)

А также необходимо обнулить время инициализации блока `CLOCK_c` и уменьшить его период, что в свою очередь обеспечит плавность графика. В данном примере было принято решение использовать значение $10^{-3}$:

![|center](https://i.imgur.com/g9Dfvkq.png)

Сравните, какой график показывался до настройки этих блоков:

![|center](https://i.imgur.com/EhJpVsm.png)

и после:

![|center](https://i.imgur.com/ZWq13cA.png)

### Выводы

- Была решена поставленная задача нахождения заряда тока при помощи математических пакетов Octave и Scilab
- Был установлен и настроен математический пакет Scilab для использования бесплатного аналога Simulink от MATLAB — Xcos.
- Были изучены базовые блоки Xcos и с помощью них был построен график функции решения дифференциального уравнения второго порядка, описывающей закон поведения заряда тока в зависимости от момента времени $t$.
